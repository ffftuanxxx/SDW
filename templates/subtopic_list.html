{% extends 'base.html' %}

{% block content %}
<h1>子主题列表 (主题ID: {{ topicid }})</h1>
<form method="POST" action="{{ url_for('subtopic_list', topicid=topicid) }}">
    <label for="subtxt">新子主题文本:</label>
    <input type="text" id="subtxt" name="subtxt" required>
    <button type="submit">创建新子主题</button>
</form>
<table>
    <thead>
        <tr>
            <th>子主题ID</th>
            <th>子主题文本</th>
            <th>问题列表</th>
        </tr>
    </thead>
    <tbody>
        {% for subtopic in subtopics %}
        <tr>
            <td>{{ subtopic.subid }}</td>
            <td>{{ subtopic.subtxt }}</td>
            <td>
                <!-- 传递子主题ID (subid) 到问题列表页面 -->
                <a href="{{ url_for('subq_list', subid=subtopic.subid) }}">查看问题</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<a href="{{ url_for('topic_list', CNumber=CNumber) if CNumber else '#' }}" class="btn btn-danger">返回主题列表</a>
{% endblock %}