{% extends 'base.html' %}

{% block content %}

<h1>List of topics (course No: {{ CNumber }})</h1>
<form method="POST" action="{{ url_for('topic_list', CNumber=CNumber) }}"><label for="topictxt">New topic text:</label>
    <input type="text" id="topictxt" name="topictxt" required>
    <button type="submit">Create a new theme</button>
</form>
<table>
    <thead>
    <tr>
        <th>topic ID</th>
        <th>topic content</th>
        <th>subtopic content</th>
    </tr>
    </thead>
    <tbody> {% for topic in topics %} {% if topic.approved == 1 %}
    <tr>
        <td>{{ topic.topicid }}</td>
        <td>{{ topic.topictxt }}</td>
        <td> <!-- 传递主题ID (topicid) 到子主题列表页面 --> <a
                href="{{ url_for('subtopic_list', topicid=topic.topicid) }}">View subtopics</a></td>
    </tr>
    {% endif %} {% endfor %}
    </tbody>
</table> <a href="{{ url_for('back') }}" class="btn btn-danger">back</a> {% endblock %}